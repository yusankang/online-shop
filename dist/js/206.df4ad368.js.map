{"version":3,"file":"js/206.df4ad368.js","mappings":"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","sources":["webpack://online-shop/./src/stores/cartStore.js","webpack://online-shop/./src/stores/productsStore.js","webpack://online-shop/./src/stores/statusStore.js","webpack://online-shop/./src/views/user-views/UserProductsList.vue","webpack://online-shop/./src/components/user-components/CustomPagination.vue","webpack://online-shop/./src/components/user-components/CustomPagination.vue?0429","webpack://online-shop/./src/views/user-views/UserProductsList.vue?85eb"],"sourcesContent":["import { defineStore } from 'pinia';\nimport axios from 'axios';\nimport statusStore from './statusStore';\n\nconst status = statusStore();\n\nexport default defineStore('cartStore', {\n  state: () => ({\n    cart: {},\n    isUseCoupon: false,\n    couponPercent: 100,\n    couponCode: '',\n    shippingFee: 100,\n    message: '',\n    couponMessage: '',\n    itemId: '',\n  }),\n  actions: {\n    getCart() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      status.isLoading = true;\n      axios.get(api).then((response) => {\n        status.isLoading = false;\n        this.cart = response.data.data;\n        this.checkCouponCode();\n        localStorage.setItem('cart', JSON.stringify(this.cart));\n      })\n        .catch((error) => {\n          throw new Error(error);\n        });\n    },\n    checkQty(item, action) {\n      let qtyNum = item.qty;\n      this.message = '';\n      this.itemId = '';\n      if (action === 'add' && qtyNum >= 1 && qtyNum < 20) {\n        qtyNum += 1;\n        this.updateCart(item, qtyNum);\n      } else if (action === 'subtract' && qtyNum > 1 && qtyNum <= 20) {\n        qtyNum -= 1;\n        this.updateCart(item, qtyNum);\n      } else if (action === 'add' && qtyNum === 20) {\n        this.itemId = item.id;\n        this.message = '最多數量限20';\n      } else if (action === 'subtract' && qtyNum === 1) {\n        this.itemId = item.id;\n        this.message = '最少數量限1';\n      }\n    },\n    updateCart(item, qtyNum) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\n      status.isLoading = true;\n      status.cartLoadingItem = item.id;\n      const cart = {\n        product_id: item.product.id,\n        qty: qtyNum,\n      };\n      axios.put(api, { data: cart }).then(() => {\n        status.isLoading = false;\n        status.cartLoadingItem = '';\n        this.getCart();\n      })\n        .catch((response) => {\n          throw new Error(response.data.message);\n        });\n    },\n    addCart(id, qty) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/`;\n      status.cartLoadingItem = id;\n      const cart = {\n        product_id: id,\n        qty: 1,\n      };\n      cart.qty = qty;\n      axios.post(api, { data: cart }).then(() => {\n        status.cartLoadingItem = '';\n        status.pushMessage({ title: '加入購物車' });\n        if (this.isUseCoupon) {\n          this.addCouponCode(this.couponCode);\n        }\n        this.getCart();\n      })\n        .catch((response) => {\n          throw new Error(response.data.message);\n        });\n    },\n    deleteItem(selectedItem) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${selectedItem.id}`;\n      status.isLoading = true;\n      axios.delete(api).then((response) => {\n        const { message } = response.data;\n        status.isLoading = false;\n        if (response.data.success) {\n          status.pushMessage({ title: '刪除品項' });\n          this.getCart();\n        } else if (!response.data.success) {\n          status.pushMessage({ title: message, style: 'danger' });\n        }\n      })\n        .catch((error) => {\n          throw new Error(error);\n        });\n    },\n    deleteCart() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`;\n      status.isLoading = true;\n      this.message = '';\n      axios.delete(api).then((response) => {\n        const { message } = response.data;\n        status.isLoading = false;\n        if (response.data.success) {\n          status.pushMessage({ title: `購物車${message}` });\n          this.getCart();\n        } else if (!response.data.success) {\n          status.pushMessage({ title: message, style: 'danger' });\n        }\n      })\n        .catch((error) => {\n          throw new Error(error);\n        });\n    },\n    addCouponCode(couponCodeInput) {\n      if (couponCodeInput === '') {\n        this.couponMessage = '請輸入優惠碼';\n      } else {\n        const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\n        const coupon = {\n          code: couponCodeInput,\n        };\n        status.isLoading = true;\n        axios.post(api, { data: coupon }).then((response) => {\n          status.isLoading = false;\n          if (response.data.success) {\n            this.CouponMessage = '';\n            this.getCart();\n          } else if (!response.data.success) {\n            this.couponMessage = response.data.message;\n          }\n        })\n          .catch((error) => {\n            throw new Error(error);\n          });\n      }\n    },\n    clearMessage() {\n      this.couponMessage = '';\n    },\n    checkCouponCode() {\n      if (this.cart.carts[0]) {\n        if (this.cart.carts[0].coupon) {\n          this.isUseCoupon = true;\n          this.couponCode = this.cart.carts[0].coupon.code;\n          this.couponPercent = this.cart.carts[0].coupon.percent;\n        } else if (!this.cart.carts[0].coupon) {\n          this.isUseCoupon = false;\n          this.couponCode = '';\n          this.couponPercent = 100;\n        }\n      } else if (!this.cart.carts[0]) {\n        this.isUseCoupon = false;\n        this.couponCode = '';\n        this.couponPercent = 100;\n      }\n    },\n  },\n});\n","import { defineStore } from 'pinia';\nimport axios from 'axios';\nimport statusStore from './statusStore';\n\nconst status = statusStore();\n\nexport default defineStore('productsStore', {\n  state: () => ({\n    allProducts: [],\n    filteredProducts: [],\n    displayProducts: [],\n    product: {},\n    paginationLimit: 12,\n    category: '',\n    item: {},\n  }),\n  actions: {\n    async getProducts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      status.isLoading = true;\n      try {\n        const response = await axios.get(api);\n        status.isLoading = false;\n        this.allProducts = response.data.products;\n        this.filterCategory();\n      } catch (error) {\n        throw new Error(error);\n      }\n    },\n    setCategory(category) {\n      localStorage.setItem('currentCategory', JSON.stringify(category));\n    },\n    filterCategory() {\n      this.category = JSON.parse(localStorage.getItem('currentCategory'));\n      if (this.category !== 'all' && this.category !== 'sale') {\n        this.filteredProducts = this.allProducts.filter((item) => item.category === this.category);\n      } else if (this.category === 'sale') {\n        this.filteredProducts = this.allProducts.filter((item) => item.origin_price > item.price);\n      } else {\n        this.filteredProducts = this.allProducts;\n      }\n      this.setCurrentPage(1);\n    },\n    setCurrentPage(page) {\n      this.displayProducts = [];\n      const prevRange = (page - 1) * this.paginationLimit;\n      const currRange = page * this.paginationLimit;\n      this.filteredProducts.forEach((item, index) => {\n        if (index >= prevRange && index < currRange) {\n          this.displayProducts.push(item);\n        }\n      });\n    },\n    async getProduct(id) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`;\n      status.isLoading = true;\n      try {\n        const response = await axios.get(api);\n        status.isLoading = false;\n        this.product = response.data.product;\n      } catch (error) {\n        throw new Error(error);\n      }\n    },\n    scrollToTop() {\n      window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n    },\n  },\n});\n","import { defineStore } from 'pinia';\n\nexport default defineStore('statusStore', {\n  state: () => ({\n    isLoading: false,\n    cartLoadingItem: '',\n    messages: [],\n  }),\n  actions: {\n    pushMessage(data) {\n      const { title, content, style = 'success' } = data;\n      this.messages.push({ title, content, style });\n    },\n  },\n});\n","<template>\n  <LoadingOverlay :active=\"isLoading\" />\n  <header class=\"products-header header-img d-flex align-items-center justify-content-center mb-5\">\n    <div>\n      <h2 class=\"text-white text-center permanent-marker display-3\">Inspired by Nature</h2>\n    </div>\n  </header>\n\n  <section class=\"container\">\n    <div class=\"row gy-4\">\n      <div class=\"side-bar col-md-3\">\n        <ul class=\"list-group sticky-md-top\" style=\"top: 100px\">\n          <li class=\"list-group-item\" :class=\"{ active: category === 'all' }\">\n            <a href=\"#\" @click.prevent=\"getProducts('all'), setCategory('all')\">全部商品</a>\n          </li>\n          <li class=\"list-group-item\" :class=\"{ active: category === '廚具' }\">\n            <a href=\"#\" @click.prevent=\"setCategory('廚具'), getProducts()\">戶外廚具</a>\n          </li>\n          <li class=\"list-group-item\" :class=\"{ active: category === '咖啡' }\">\n            <a href=\"#\" @click.prevent=\"setCategory('咖啡'), getProducts()\">咖啡系列</a>\n          </li>\n          <li class=\"list-group-item\" :class=\"{ active: category === '野餐' }\">\n            <a href=\"#\" @click.prevent=\"setCategory('野餐'), getProducts()\">野餐系列</a>\n          </li>\n          <li class=\"list-group-item\" :class=\"{ active: category === 'sale' }\">\n            <a href=\"#\" @click.prevent=\"setCategory('sale'), getProducts()\">Sale</a>\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"col-md-9 mb-5 position-relative\">\n        <h5\n          class=\"text-white position-absolute top-50 start-50 translate-middle\"\n          v-if=\"this.displayProducts.length === 0\"\n        >\n          補貨中！請稍後再查詢\n        </h5>\n        <div class=\"row gy-4 mb-5\">\n          <div class=\"col-md-6 col-lg-4\" v-for=\"item in displayProducts\" :key=\"item.id\">\n            <div class=\"card h-100 border-0\">\n              <img\n                :src=\"item.imageUrl\"\n                :alt=\"item.title\"\n                class=\"card-img-top\"\n                style=\"min-height: 250px; height: 20vw; object-fit: cover\"\n              />\n              <div class=\"card-body d-flex flex-column\">\n                <div class=\"d-flex justify-content-between\">\n                  <h5 class=\"card-title fs-6\">\n                    {{ item.title }}\n                  </h5>\n                </div>\n                <div class=\"d-flex justify-content-between align-items-center mt-auto\">\n                  <p class=\"card-text m-0\">\n                    <s v-if=\"item.origin_price !== item.price\">\n                      ${{ $filters.currency(item.origin_price) }}\n                    </s>\n                    <span class=\"fw-bold\"> ${{ $filters.currency(item.price) }} </span>\n                  </p>\n                  <button\n                    type=\"button\"\n                    class=\"btn bg-transparent stretched-link\"\n                    @click.prevent=\"getProduct(item.id)\">\n                    <i class=\"bi bi-arrow-right fs-4\"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Pagination\n          v-if=\"filteredProducts.length > 0\"\n          :products-num=\"filteredProducts.length\"\n          :product-category=\"category\"\n          @emit-pages=\"setCurrentPage\"\n        />\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'pinia';\nimport productsStore from '@/stores/productsStore';\nimport cartStore from '@/stores/cartStore';\nimport statusStore from '@/stores/statusStore';\nimport Pagination from '../../components/user-components/CustomPagination.vue';\n\nexport default {\n  components: {\n    Pagination,\n  },\n  computed: {\n    ...mapState(productsStore, [\n      'allProducts',\n      'filteredProducts',\n      'displayProducts',\n      'pagination',\n      'category',\n    ]),\n    ...mapState(cartStore, ['cart']),\n    ...mapState(statusStore, ['isLoading']),\n  },\n  methods: {\n    ...mapActions(productsStore, [\n      'getProducts',\n      'filterProducts',\n      'setCategory',\n      'setCurrentPage',\n      'scrollToTop',\n    ]),\n\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n  },\n  created() {\n    this.getProducts();\n    this.scrollToTop();\n  },\n};\n</script>\n\n<style scoped>\n.card button:hover {\n  color: orange;\n}\n.list-group-item.active a:hover {\n  color: black;\n}\n</style>\n","<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Previous\"\n          @click.prevent=\"prevButton\"\n          :class=\"{ disabled: currentPage === 1 }\"\n        >\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li\n        class=\"page-item\"\n        v-for=\"page in pageCount\"\n        :key=\"page\"\n        :class=\"{ active: currentPage === page }\"\n      >\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\n      </li>\n      <li class=\"page-item\">\n        <a\n          class=\"page-link\"\n          href=\"#\"\n          aria-label=\"Next\"\n          @click.prevent=\"nextButton\"\n          :class=\"{ disabled: currentPage === pageCount }\"\n        >\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: {\n    productsNum: {\n      type: Number,\n      required: true,\n      default: 1,\n    },\n    productCategory: {\n      type: String,\n      required: true,\n      default: 'all',\n    },\n  },\n  computed: {\n    pageCount() {\n      return Math.ceil(this.productsNum / this.paginationLimit);\n    },\n  },\n  watch: {\n    productCategory() {\n      this.currentPage = 1;\n    },\n  },\n  data() {\n    return {\n      paginationLimit: 12,\n      currentPage: 1,\n    };\n  },\n  methods: {\n    updatePage(page) {\n      this.currentPage = page;\n      this.sendPageNum(this.currentPage);\n    },\n    nextButton() {\n      this.currentPage += 1;\n      this.sendPageNum(this.currentPage);\n    },\n    prevButton() {\n      this.currentPage -= 1;\n      this.sendPageNum(this.currentPage);\n    },\n    sendPageNum(page) {\n      this.$emit('emit-pages', page);\n    },\n  },\n  created() {\n    this.currentPage = 1;\n  },\n};\n</script>\n","import { render } from \"./CustomPagination.vue?vue&type=template&id=708a32ea\"\nimport script from \"./CustomPagination.vue?vue&type=script&lang=js\"\nexport * from \"./CustomPagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/san/Documents/Hex School/4. Vue/Final_Project/online-shop/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UserProductsList.vue?vue&type=template&id=318fe286&scoped=true\"\nimport script from \"./UserProductsList.vue?vue&type=script&lang=js\"\nexport * from \"./UserProductsList.vue?vue&type=script&lang=js\"\n\nimport \"./UserProductsList.vue?vue&type=style&index=0&id=318fe286&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/san/Documents/Hex School/4. Vue/Final_Project/online-shop/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-318fe286\"]])\n\nexport default __exports__"],"names":["status","statusStore","defineStore","state","cart","isUseCoupon","couponPercent","couponCode","shippingFee","message","couponMessage","itemId","actions","getCart","api","isLoading","axios","then","response","this","data","checkCouponCode","localStorage","setItem","JSON","stringify","catch","error","Error","checkQty","item","action","qtyNum","qty","updateCart","id","cartLoadingItem","product_id","product","addCart","pushMessage","title","addCouponCode","deleteItem","selectedItem","success","style","deleteCart","couponCodeInput","coupon","code","CouponMessage","clearMessage","carts","percent","allProducts","filteredProducts","displayProducts","paginationLimit","category","async","products","filterCategory","setCategory","parse","getItem","filter","origin_price","price","setCurrentPage","page","prevRange","currRange","forEach","index","push","scrollToTop","window","scrollTo","top","left","behavior","messages","content","_createElementVNode","class","_hoisted_19","_createVNode","_component_LoadingOverlay","active","_ctx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_normalizeClass","href","onClick","_cache","_withModifiers","$event","getProducts","_hoisted_6","length","_createElementBlock","_hoisted_7","_hoisted_8","_Fragment","_renderList","key","_hoisted_9","src","imageUrl","alt","_hoisted_11","_hoisted_12","_hoisted_13","_toDisplayString","_hoisted_14","_hoisted_15","_hoisted_16","$filters","currency","_hoisted_17","type","$options","getProduct","_createBlock","_component_Pagination","onEmitPages","disabled","$data","currentPage","args","prevButton","pageCount","updatePage","nextButton","props","productsNum","Number","required","default","productCategory","String","computed","Math","ceil","watch","methods","sendPageNum","$emit","created","__exports__","components","Pagination","mapState","productsStore","cartStore","mapActions","$router","render"],"sourceRoot":""}