{"version":3,"file":"js/441.5a03cd46.js","mappings":"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","sources":["webpack://online-shop/./src/views/user-views/UserOrderForm.vue","webpack://online-shop/./src/views/user-views/UserOrderForm.vue?ec7e"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <LoadingOverlay :active=\"isLoading\" />\n  <div class=\"container pt-5\">\n    <h3 class=\"text-white text-center pt-5 permanent-marker\">Create Order</h3>\n    <CartProgressBar :progress-bar=\"progressBar\" />\n    <div class=\"row d-flex flex-md-row-reverse\">\n      <div class=\"col-md-5 mb-3\">\n        <div class=\"card mb-3 border-0\">\n          <OrderItemsTotal :progress=\"progressBar\" />\n          <OrderPriceTotal :progress=\"progressBar\" />\n        </div>\n      </div>\n\n      <div class=\"col-md-7 mb-3\">\n        <Form\n          class=\"justify-content-center bg-white rounded p-3\"\n          v-slot=\"{ errors }\"\n          @submit=\"createOrder\"\n        >\n          <h5 class=\"text-center mb-3\">建立訂單</h5>\n          <div class=\"mb-3\">\n            <label for=\"email\" class=\"form-label\">收件人 Email *</label>\n            <Field\n              type=\"email\"\n              class=\"form-control\"\n              name=\"email\"\n              id=\"email\"\n              placeholder=\"請輸入Email\"\n              :class=\"{ 'is-invalid': errors['email'] }\"\n              rules=\"email|required\"\n              v-model=\"form.user.email\"\n            />\n            <ErrorMessage name=\"email\" class=\"invalid-feedback\" />\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"name\" class=\"form-label\">收件人姓名 *</label>\n            <Field\n              type=\"text\"\n              class=\"form-control\"\n              name=\"姓名\"\n              id=\"name\"\n              placeholder=\"請輸入姓名\"\n              :class=\"{ 'is-invalid': errors['姓名'] }\"\n              rules=\"required\"\n              v-model=\"form.user.name\"\n            />\n            <ErrorMessage name=\"姓名\" class=\"invalid-feedback\" />\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"tel\" class=\"form-label\">收件人電話 *</label>\n            <Field\n              type=\"text\"\n              class=\"form-control\"\n              name=\"電話\"\n              id=\"tel\"\n              placeholder=\"請輸入電話\"\n              :class=\"{ 'is-invalid': errors['電話'] }\"\n              :rules=\"isPhone\"\n              v-model=\"form.user.tel\"\n            />\n            <ErrorMessage name=\"電話\" class=\"invalid-feedback\" />\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"address\" class=\"form-label\">地址 *</label>\n            <Field\n              type=\"text\"\n              class=\"form-control\"\n              id=\"address\"\n              name=\"地址\"\n              placeholder=\"請輸入地址\"\n              :class=\"{ 'is-invalid': errors['地址'] }\"\n              rules=\"required\"\n              v-model=\"form.user.address\"\n            />\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\" />\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"message\" class=\"form-label\">留言</label>\n            <textarea\n              name=\"\"\n              id=\"message\"\n              class=\"form-control\"\n              cols=\"30\"\n              rows=\"5\"\n              v-model=\"form.message\"\n            ></textarea>\n          </div>\n          <div class=\"text-end\">\n            <button type=\"sumbit\" class=\"btn btn-warning w-100\">建立訂單</button>\n          </div>\n        </Form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'pinia';\nimport statusStore from '@/stores/statusStore';\nimport productsStore from '@/stores/productsStore';\nimport CartProgressBar from '../../components/user-components/CartProgressBar.vue';\nimport OrderPriceTotal from '../../components/user-components/OrderPriceTotal.vue';\nimport OrderItemsTotal from '../../components/user-components/OrderItemsTotal.vue';\n\nexport default {\n  components: {\n    CartProgressBar,\n    OrderPriceTotal,\n    OrderItemsTotal,\n  },\n  data() {\n    return {\n      isLoading: false,\n      progressBar: 2,\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {\n    ...mapActions(statusStore, ['pushMessage']),\n    ...mapActions(productsStore, ['scrollToTop']),\n    createOrder() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n      const order = this.form;\n      this.isLoading = true;\n      this.$http.post(api, { data: order }).then((response) => {\n        this.isLoading = false;\n        const { message } = response.data;\n        if (response.data.success) {\n          this.pushMessage({ title: message });\n          this.$router.push(`/user/checkout/${response.data.orderId}`);\n        }\n      });\n    },\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼';\n    },\n  },\n  created() {\n    this.scrollToTop();\n  },\n};\n</script>\n","import { render } from \"./UserOrderForm.vue?vue&type=template&id=3425cef9\"\nimport script from \"./UserOrderForm.vue?vue&type=script&lang=js\"\nexport * from \"./UserOrderForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/san/Documents/Hex School/4. Vue/Final_Project/online-shop/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createVNode","_component_LoadingOverlay","active","$data","isLoading","_hoisted_1","_hoisted_2","_component_CartProgressBar","progressBar","_hoisted_3","_hoisted_4","_hoisted_5","_component_OrderItemsTotal","progress","_component_OrderPriceTotal","_hoisted_6","_component_Form","onSubmit","$options","createOrder","errors","_hoisted_7","_hoisted_8","_hoisted_9","_component_Field","_normalizeClass","name","id","placeholder","rules","form","user","email","$event","_component_ErrorMessage","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","isPhone","tel","_hoisted_14","_hoisted_15","address","_hoisted_16","_hoisted_17","cols","rows","message","_hoisted_18","components","CartProgressBar","OrderPriceTotal","OrderItemsTotal","data","methods","mapActions","statusStore","productsStore","api","order","this","$http","post","then","response","success","pushMessage","title","$router","push","orderId","value","phoneNumber","test","created","scrollToTop","__exports__","render"],"sourceRoot":""}