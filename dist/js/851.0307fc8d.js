"use strict";(self["webpackChunkonline_shop"]=self["webpackChunkonline_shop"]||[]).push([[851],{4677:function(t,e,s){var i=s(9876),n=s(6154),r=s(6294);const o=(0,r.Z)();e["Z"]=(0,i.Q_)("cartStore",{state:()=>({cart:{},isUseCoupon:!1,couponPercent:100,couponCode:"",shippingFee:100,message:"",couponMessage:"",itemId:""}),actions:{getCart(){const t="https://vue3-course-api.hexschool.io/api/yusan-api/cart";o.isLoading=!0,n.Z.get(t).then((t=>{o.isLoading=!1,this.cart=t.data.data,this.checkCouponCode(),localStorage.setItem("cart",JSON.stringify(this.cart))})).catch((t=>{throw new Error(t)}))},checkQty(t,e){let s=t.qty;this.message="",this.itemId="","add"===e&&s>=1&&s<20?(s+=1,this.updateCart(t,s)):"subtract"===e&&s>1&&s<=20?(s-=1,this.updateCart(t,s)):"add"===e&&20===s?(this.itemId=t.id,this.message="最多數量限20"):"subtract"===e&&1===s&&(this.itemId=t.id,this.message="最少數量限1")},updateCart(t,e){const s=`https://vue3-course-api.hexschool.io/api/yusan-api/cart/${t.id}`;o.isLoading=!0,o.cartLoadingItem=t.id;const i={product_id:t.product.id,qty:e};n.Z.put(s,{data:i}).then((()=>{o.isLoading=!1,o.cartLoadingItem="",this.getCart()})).catch((t=>{throw new Error(t.data.message)}))},addCart(t,e){const s="https://vue3-course-api.hexschool.io/api/yusan-api/cart/";o.cartLoadingItem=t;const i={product_id:t,qty:1};i.qty=e,n.Z.post(s,{data:i}).then((()=>{o.cartLoadingItem="",o.pushMessage({title:"加入購物車"}),this.isUseCoupon&&this.addCouponCode(this.couponCode),this.getCart()})).catch((t=>{throw new Error(t.data.message)}))},deleteItem(t){const e=`https://vue3-course-api.hexschool.io/api/yusan-api/cart/${t.id}`;o.isLoading=!0,n.Z["delete"](e).then((t=>{const{message:e}=t.data;o.isLoading=!1,t.data.success?(o.pushMessage({title:"刪除品項"}),this.getCart()):t.data.success||o.pushMessage({title:e,style:"danger"})})).catch((t=>{throw new Error(t)}))},deleteCart(){const t="https://vue3-course-api.hexschool.io/api/yusan-api/carts";o.isLoading=!0,this.message="",n.Z["delete"](t).then((t=>{const{message:e}=t.data;o.isLoading=!1,t.data.success?(o.pushMessage({title:`購物車${e}`}),this.getCart()):t.data.success||o.pushMessage({title:e,style:"danger"})})).catch((t=>{throw new Error(t)}))},addCouponCode(t){if(""===t)this.couponMessage="請輸入優惠碼";else{const e="https://vue3-course-api.hexschool.io/api/yusan-api/coupon",s={code:t};o.isLoading=!0,n.Z.post(e,{data:s}).then((t=>{o.isLoading=!1,t.data.success?(this.CouponMessage="",this.getCart()):t.data.success||(this.couponMessage=t.data.message)})).catch((t=>{throw new Error(t)}))}},clearMessage(){this.couponMessage=""},checkCouponCode(){this.cart.carts[0]?this.cart.carts[0].coupon?(this.isUseCoupon=!0,this.couponCode=this.cart.carts[0].coupon.code,this.couponPercent=this.cart.carts[0].coupon.percent):this.cart.carts[0].coupon||(this.isUseCoupon=!1,this.couponCode="",this.couponPercent=100):this.cart.carts[0]||(this.isUseCoupon=!1,this.couponCode="",this.couponPercent=100)}}})},7012:function(t,e,s){s(7658);var i=s(9876),n=s(6154),r=s(6294);const o=(0,r.Z)();e["Z"]=(0,i.Q_)("productsStore",{state:()=>({allProducts:[],filteredProducts:[],displayProducts:[],product:{},paginationLimit:12,category:"",item:{}}),actions:{async getProducts(){const t="https://vue3-course-api.hexschool.io/api/yusan-api/products/all";o.isLoading=!0;try{const e=await n.Z.get(t);o.isLoading=!1,this.allProducts=e.data.products,this.filterCategory()}catch(e){throw new Error(e)}},setCategory(t){localStorage.setItem("currentCategory",JSON.stringify(t))},filterCategory(){this.category=JSON.parse(localStorage.getItem("currentCategory")),"all"!==this.category&&"sale"!==this.category?this.filteredProducts=this.allProducts.filter((t=>t.category===this.category)):"sale"===this.category?this.filteredProducts=this.allProducts.filter((t=>t.origin_price>t.price)):this.filteredProducts=this.allProducts,this.setCurrentPage(1)},setCurrentPage(t){this.displayProducts=[];const e=(t-1)*this.paginationLimit,s=t*this.paginationLimit;this.filteredProducts.forEach(((t,i)=>{i>=e&&i<s&&this.displayProducts.push(t)}))},async getProduct(t){const e=`https://vue3-course-api.hexschool.io/api/yusan-api/product/${t}`;o.isLoading=!0;try{const t=await n.Z.get(e);o.isLoading=!1,this.product=t.data.product}catch(s){throw new Error(s)}},scrollToTop(){window.scrollTo({top:0,left:0,behavior:"smooth"})}}})},6294:function(t,e,s){s(7658);var i=s(9876);e["Z"]=(0,i.Q_)("statusStore",{state:()=>({isLoading:!1,cartLoadingItem:"",messages:[]}),actions:{pushMessage(t){const{title:e,content:s,style:i="success"}=t;this.messages.push({title:e,content:s,style:i})}}})},3851:function(t,e,s){s.r(e),s.d(e,{default:function(){return rs}});var i=s(6252),n=s(3577),r=s(9963);const o={class:"pt-5"},a={class:"container py-5"},c={"aria-label":"breadcrumb"},l={class:"breadcrumb"},u={class:"breadcrumb-item"},d={class:"breadcrumb-item active text-white","aria-current":"page"},h={class:"row mb-4 gy-4"},p={class:"col-md-7 d-flex align-items-center"},g={class:"col-md-5"},f={class:"card"},m={class:"card-body"},_={class:"card-title mb-3"},b={key:0,class:"h5 card-text"},y={key:1,class:"h6 card-text"},v={key:2,class:"h5 card-text mb-3"},w={key:0},C={class:"mb-3"},E={for:"qty",class:"input-group"},k=(0,i._)("i",{class:"bi bi-dash"},null,-1),I=[k],L=(0,i._)("i",{class:"bi bi-plus"},null,-1),S=[L],A={key:0,class:"text-danger"},T={class:"d-grid"},x=["disabled"],P={key:0,class:"spinner-grow spinner-grow-sm text-dander",role:"status"},O=(0,i._)("span",{class:"visually-hidden"},"Loading...",-1),$=[O],D={class:"row"},M={class:"col-lg-7 text-white"},N={class:"mb-3"},q={class:"mb-3"},j=(0,i._)("h2",{class:"text-white mb-4 text-center"},"其他人也看過",-1),Z={class:"d-flex justify-content-end"};function Q(t,e,s,k,L,O){const Q=(0,i.up)("LoadingOverlay"),U=(0,i.up)("router-link"),X=(0,i.up)("ProductCarousel"),z=(0,i.up)("SwiperSlider");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Q,{active:t.isLoading},null,8,["active"]),(0,i._)("div",o,[(0,i._)("div",a,[(0,i._)("nav",c,[(0,i._)("ol",l,[(0,i._)("li",u,[(0,i.Wm)(U,{to:"/user/products",class:"text-warning border-bottom border-warning"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 商品列表 ")])),_:1})]),(0,i._)("li",d,(0,n.zw)(t.product.title),1)])]),(0,i._)("div",h,[(0,i._)("div",p,[(0,i.Wm)(X,{product:t.product},null,8,["product"])]),(0,i._)("div",g,[(0,i._)("div",f,[(0,i._)("div",m,[(0,i._)("h2",_,(0,n.zw)(t.product.title),1),t.product.price?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",b,(0,n.zw)(t.product.origin_price)+" 元",1)),t.product.price!==t.product.origin_price?((0,i.wg)(),(0,i.iD)("del",y," 原價 $"+(0,n.zw)(t.$filters.currency(t.product.origin_price)),1)):(0,i.kq)("",!0),t.product.price?((0,i.wg)(),(0,i.iD)("p",v,[t.product.price!==t.product.origin_price?((0,i.wg)(),(0,i.iD)("span",w,"現在只要")):(0,i.kq)("",!0),(0,i.Uk)(" $"+(0,n.zw)(t.$filters.currency(t.product.price)),1)])):(0,i.kq)("",!0),(0,i._)("div",C,[(0,i._)("label",E,[(0,i._)("button",{type:"button",class:"btn btn-outline-warning",onClick:e[0]||(e[0]=(0,r.iM)(((...t)=>O.subtractQty&&O.subtractQty(...t)),["prevent"]))},I),(0,i.wy)((0,i._)("input",{type:"text",id:"qty",class:"form-control bg-white",min:"1","onUpdate:modelValue":e[1]||(e[1]=t=>L.qty=t),onChange:e[2]||(e[2]=(...e)=>t.inputNumValidation&&t.inputNumValidation(...e)),disabled:""},null,544),[[r.nr,L.qty,void 0,{number:!0}]]),(0,i._)("button",{type:"button",class:"btn btn-outline-warning",onClick:e[3]||(e[3]=(0,r.iM)(((...t)=>O.addQty&&O.addQty(...t)),["prevent"]))},S)]),L.message?((0,i.wg)(),(0,i.iD)("span",A,(0,n.zw)(L.message)+(0,n.zw)(t.product.unit),1)):(0,i.kq)("",!0)]),(0,i._)("div",T,[(0,i._)("button",{type:"button",class:"btn btn-warning",onClick:e[4]||(e[4]=e=>t.addCart(t.product.id,L.qty)),disabled:t.cartLoadingItem===t.product.id||L.disabled},[t.cartLoadingItem===t.product.id?((0,i.wg)(),(0,i.iD)("div",P,$)):(0,i.kq)("",!0),(0,i.Uk)(" 加到購物 ")],8,x)])])])])]),(0,i._)("article",D,[(0,i._)("div",M,[(0,i._)("p",N,(0,n.zw)(t.product.description),1),(0,i._)("p",q,(0,n.zw)(t.product.content),1)])])]),(0,i._)("section",null,[j,(0,i.Wm)(z,{category:"other",onProductId:O.checkProduct},null,8,["onProductId"]),(0,i._)("div",Z,[(0,i.Wm)(U,{to:"/user/products",class:"btn btn-outline-light btn-sm me-5"},{default:(0,i.w5)((()=>[(0,i.Uk)("看更多")])),_:1})])])])],64)}var U=s(9876),X=s(4677),z=s(7012),W=s(6294);const V={id:"carousel",class:"carousel slide carousel-fade",ref:"carousel"},Y={class:"carousel-inner h-100"},F={class:"carousel-item active h-100"},K=["src","alt"],H=["src","alt"],B={key:0},R=(0,i.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#carousel" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carousel" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),J=[R];function G(t,e,s,n,r,o){return(0,i.wg)(),(0,i.iD)("div",V,[(0,i._)("div",Y,[(0,i._)("div",F,[(0,i._)("img",{src:s.product.imageUrl,class:"d-block w-100",alt:s.product.title,style:{"object-fit":"cover"}},null,8,K)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.product.imagesUrl,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"carousel-item active h-100",key:e},[(0,i._)("img",{src:t,class:"d-block w-100",alt:s.product.title,style:{"object-fit":"cover"}},null,8,H)])))),128))]),s.product.imagesUrl?((0,i.wg)(),(0,i.iD)("div",B,J)):(0,i.kq)("",!0)],512)}const tt=new Map;var et={set(t,e,s){tt.has(t)||tt.set(t,new Map);const i=tt.get(t);i.has(e)||0===i.size?i.set(e,s):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get(t,e){return tt.has(t)&&tt.get(t).get(e)||null},remove(t,e){if(!tt.has(t))return;const s=tt.get(t);s.delete(e),0===s.size&&tt.delete(t)}};const st=1e3,it="transitionend",nt=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),rt=t=>null===t||void 0===t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),ot=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:s}=window.getComputedStyle(t);const i=Number.parseFloat(e),n=Number.parseFloat(s);return i||n?(e=e.split(",")[0],s=s.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(s))*st):0},at=t=>{t.dispatchEvent(new Event(it))},ct=t=>!(!t||"object"!==typeof t)&&("undefined"!==typeof t.jquery&&(t=t[0]),"undefined"!==typeof t.nodeType),lt=t=>ct(t)?t.jquery?t[0]:t:"string"===typeof t&&t.length>0?document.querySelector(nt(t)):null,ut=t=>{if(!ct(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),s=t.closest("details:not([open])");if(!s)return e;if(s!==t){const e=t.closest("summary");if(e&&e.parentNode!==s)return!1;if(null===e)return!1}return e},dt=t=>!t||t.nodeType!==Node.ELEMENT_NODE||(!!t.classList.contains("disabled")||("undefined"!==typeof t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled"))),ht=t=>{t.offsetHeight},pt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,gt=[],ft=t=>{"loading"===document.readyState?(gt.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of gt)t()})),gt.push(t)):t()},mt=()=>"rtl"===document.documentElement.dir,_t=t=>{ft((()=>{const e=pt();if(e){const s=t.NAME,i=e.fn[s];e.fn[s]=t.jQueryInterface,e.fn[s].Constructor=t,e.fn[s].noConflict=()=>(e.fn[s]=i,t.jQueryInterface)}}))},bt=(t,e=[],s=t)=>"function"===typeof t?t(...e):s,yt=(t,e,s=!0)=>{if(!s)return void bt(t);const i=5,n=ot(e)+i;let r=!1;const o=({target:s})=>{s===e&&(r=!0,e.removeEventListener(it,o),bt(t))};e.addEventListener(it,o),setTimeout((()=>{r||at(e)}),n)},vt=(t,e,s,i)=>{const n=t.length;let r=t.indexOf(e);return-1===r?!s&&i?t[n-1]:t[0]:(r+=s?1:-1,i&&(r=(r+n)%n),t[Math.max(0,Math.min(r,n-1))])},wt=/[^.]*(?=\..*)\.|.*/,Ct=/\..*/,Et=/::\d+$/,kt={};let It=1;const Lt={mouseenter:"mouseover",mouseleave:"mouseout"},St=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function At(t,e){return e&&`${e}::${It++}`||t.uidEvent||It++}function Tt(t){const e=At(t);return t.uidEvent=e,kt[e]=kt[e]||{},kt[e]}function xt(t,e){return function s(i){return Zt(i,{delegateTarget:t}),s.oneOff&&jt.off(t,i.type,e),e.apply(t,[i])}}function Pt(t,e,s){return function i(n){const r=t.querySelectorAll(e);for(let{target:o}=n;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return Zt(n,{delegateTarget:o}),i.oneOff&&jt.off(t,n.type,e,s),s.apply(o,[n])}}function Ot(t,e,s=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===s))}function $t(t,e,s){const i="string"===typeof e,n=i?s:e||s;let r=qt(t);return St.has(r)||(r=t),[i,n,r]}function Dt(t,e,s,i,n){if("string"!==typeof e||!t)return;let[r,o,a]=$t(e,s,i);if(e in Lt){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};o=t(o)}const c=Tt(t),l=c[a]||(c[a]={}),u=Ot(l,o,r?s:null);if(u)return void(u.oneOff=u.oneOff&&n);const d=At(o,e.replace(wt,"")),h=r?Pt(t,s,o):xt(t,o);h.delegationSelector=r?s:null,h.callable=o,h.oneOff=n,h.uidEvent=d,l[d]=h,t.addEventListener(a,h,r)}function Mt(t,e,s,i,n){const r=Ot(e[s],i,n);r&&(t.removeEventListener(s,r,Boolean(n)),delete e[s][r.uidEvent])}function Nt(t,e,s,i){const n=e[s]||{};for(const[r,o]of Object.entries(n))r.includes(i)&&Mt(t,e,s,o.callable,o.delegationSelector)}function qt(t){return t=t.replace(Ct,""),Lt[t]||t}const jt={on(t,e,s,i){Dt(t,e,s,i,!1)},one(t,e,s,i){Dt(t,e,s,i,!0)},off(t,e,s,i){if("string"!==typeof e||!t)return;const[n,r,o]=$t(e,s,i),a=o!==e,c=Tt(t),l=c[o]||{},u=e.startsWith(".");if("undefined"===typeof r){if(u)for(const s of Object.keys(c))Nt(t,c,s,e.slice(1));for(const[s,i]of Object.entries(l)){const n=s.replace(Et,"");a&&!e.includes(n)||Mt(t,c,o,i.callable,i.delegationSelector)}}else{if(!Object.keys(l).length)return;Mt(t,c,o,r,n?s:null)}},trigger(t,e,s){if("string"!==typeof e||!t)return null;const i=pt(),n=qt(e),r=e!==n;let o=null,a=!0,c=!0,l=!1;r&&i&&(o=i.Event(e,s),i(t).trigger(o),a=!o.isPropagationStopped(),c=!o.isImmediatePropagationStopped(),l=o.isDefaultPrevented());const u=Zt(new Event(e,{bubbles:a,cancelable:!0}),s);return l&&u.preventDefault(),c&&t.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function Zt(t,e={}){for(const[s,i]of Object.entries(e))try{t[s]=i}catch{Object.defineProperty(t,s,{configurable:!0,get(){return i}})}return t}var Qt=jt;function Ut(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!==typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Xt(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const zt={setDataAttribute(t,e,s){t.setAttribute(`data-bs-${Xt(e)}`,s)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Xt(e)}`)},getDataAttributes(t){if(!t)return{};const e={},s=Object.keys(t.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const i of s){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),e[s]=Ut(t.dataset[i])}return e},getDataAttribute(t,e){return Ut(t.getAttribute(`data-bs-${Xt(e)}`))}};var Wt=zt;class Vt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const s=ct(e)?Wt.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"===typeof s?s:{},...ct(e)?Wt.getDataAttributes(e):{},..."object"===typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[s,i]of Object.entries(e)){const e=t[s],n=ct(e)?"element":rt(e);if(!new RegExp(i).test(n))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${n}" but expected type "${i}".`)}}}var Yt=Vt;const Ft="5.3.0-alpha2";class Kt extends Yt{constructor(t,e){super(),t=lt(t),t&&(this._element=t,this._config=this._getConfig(e),et.set(this._element,this.constructor.DATA_KEY,this))}dispose(){et.remove(this._element,this.constructor.DATA_KEY),Qt.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,s=!0){yt(t,e,s)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return et.get(lt(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"===typeof e?e:null)}static get VERSION(){return Ft}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}var Ht=Kt;const Bt=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let s=t.getAttribute("href");if(!s||!s.includes("#")&&!s.startsWith("."))return null;s.includes("#")&&!s.startsWith("#")&&(s=`#${s.split("#")[1]}`),e=s&&"#"!==s?s.trim():null}return nt(e)},Rt={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter((t=>t.matches(e)))},parents(t,e){const s=[];let i=t.parentNode.closest(e);while(i)s.push(i),i=i.parentNode.closest(e);return s},prev(t,e){let s=t.previousElementSibling;while(s){if(s.matches(e))return[s];s=s.previousElementSibling}return[]},next(t,e){let s=t.nextElementSibling;while(s){if(s.matches(e))return[s];s=s.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(e,t).filter((t=>!dt(t)&&ut(t)))},getSelectorFromElement(t){const e=Bt(t);return e&&Rt.findOne(e)?e:null},getElementFromSelector(t){const e=Bt(t);return e?Rt.findOne(e):null},getMultipleElementsFromSelector(t){const e=Bt(t);return e?Rt.find(e):[]}};var Jt=Rt;const Gt="swipe",te=".bs.swipe",ee=`touchstart${te}`,se=`touchmove${te}`,ie=`touchend${te}`,ne=`pointerdown${te}`,re=`pointerup${te}`,oe="touch",ae="pen",ce="pointer-event",le=40,ue={endCallback:null,leftCallback:null,rightCallback:null},de={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class he extends Yt{constructor(t,e){super(),this._element=t,t&&he.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ue}static get DefaultType(){return de}static get NAME(){return Gt}dispose(){Qt.off(this._element,te)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),bt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=le)return;const e=t/this._deltaX;this._deltaX=0,e&&bt(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Qt.on(this._element,ne,(t=>this._start(t))),Qt.on(this._element,re,(t=>this._end(t))),this._element.classList.add(ce)):(Qt.on(this._element,ee,(t=>this._start(t))),Qt.on(this._element,se,(t=>this._move(t))),Qt.on(this._element,ie,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===ae||t.pointerType===oe)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}var pe=he;const ge="carousel",fe="bs.carousel",me=`.${fe}`,_e=".data-api",be="ArrowLeft",ye="ArrowRight",ve=500,we="next",Ce="prev",Ee="left",ke="right",Ie=`slide${me}`,Le=`slid${me}`,Se=`keydown${me}`,Ae=`mouseenter${me}`,Te=`mouseleave${me}`,xe=`dragstart${me}`,Pe=`load${me}${_e}`,Oe=`click${me}${_e}`,$e="carousel",De="active",Me="slide",Ne="carousel-item-end",qe="carousel-item-start",je="carousel-item-next",Ze="carousel-item-prev",Qe=".active",Ue=".carousel-item",Xe=Qe+Ue,ze=".carousel-item img",We=".carousel-indicators",Ve="[data-bs-slide], [data-bs-slide-to]",Ye='[data-bs-ride="carousel"]',Fe={[be]:ke,[ye]:Ee},Ke={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},He={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Be extends Ht{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Jt.findOne(We,this._element),this._addEventListeners(),this._config.ride===$e&&this.cycle()}static get Default(){return Ke}static get DefaultType(){return He}static get NAME(){return ge}next(){this._slide(we)}nextWhenVisible(){!document.hidden&&ut(this._element)&&this.next()}prev(){this._slide(Ce)}pause(){this._isSliding&&at(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Qt.one(this._element,Le,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void Qt.one(this._element,Le,(()=>this.to(t)));const s=this._getItemIndex(this._getActive());if(s===t)return;const i=t>s?we:Ce;this._slide(i,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Qt.on(this._element,Se,(t=>this._keydown(t))),"hover"===this._config.pause&&(Qt.on(this._element,Ae,(()=>this.pause())),Qt.on(this._element,Te,(()=>this._maybeEnableCycle()))),this._config.touch&&pe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Jt.find(ze,this._element))Qt.on(s,xe,(t=>t.preventDefault()));const t=()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),ve+this._config.interval))},e={leftCallback:()=>this._slide(this._directionToOrder(Ee)),rightCallback:()=>this._slide(this._directionToOrder(ke)),endCallback:t};this._swipeHelper=new pe(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Fe[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Jt.findOne(Qe,this._indicatorsElement);e.classList.remove(De),e.removeAttribute("aria-current");const s=Jt.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);s&&(s.classList.add(De),s.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const s=this._getActive(),i=t===we,n=e||vt(this._getItems(),s,i,this._config.wrap);if(n===s)return;const r=this._getItemIndex(n),o=e=>Qt.trigger(this._element,e,{relatedTarget:n,direction:this._orderToDirection(t),from:this._getItemIndex(s),to:r}),a=o(Ie);if(a.defaultPrevented)return;if(!s||!n)return;const c=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=n;const l=i?qe:Ne,u=i?je:Ze;n.classList.add(u),ht(n),s.classList.add(l),n.classList.add(l);const d=()=>{n.classList.remove(l,u),n.classList.add(De),s.classList.remove(De,u,l),this._isSliding=!1,o(Le)};this._queueCallback(d,s,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(Me)}_getActive(){return Jt.findOne(Xe,this._element)}_getItems(){return Jt.find(Ue,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return mt()?t===Ee?Ce:we:t===Ee?we:Ce}_orderToDirection(t){return mt()?t===Ce?Ee:ke:t===Ce?ke:Ee}static jQueryInterface(t){return this.each((function(){const e=Be.getOrCreateInstance(this,t);if("number"!==typeof t){if("string"===typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)}))}}Qt.on(document,Oe,Ve,(function(t){const e=Jt.getElementFromSelector(this);if(!e||!e.classList.contains($e))return;t.preventDefault();const s=Be.getOrCreateInstance(e),i=this.getAttribute("data-bs-slide-to");return i?(s.to(i),void s._maybeEnableCycle()):"next"===Wt.getDataAttribute(this,"slide")?(s.next(),void s._maybeEnableCycle()):(s.prev(),void s._maybeEnableCycle())})),Qt.on(window,Pe,(()=>{const t=Jt.find(Ye);for(const e of t)Be.getOrCreateInstance(e)})),_t(Be);var Re=Be,Je={name:"ProductCarousel",props:{product:{type:Object,required:!0,default(){return{}}}},mounted(){const t=this.$refs.carousel;this.carousel=new Re(t,{interval:4e3})}},Ge=s(3744);const ts=(0,Ge.Z)(Je,[["render",G]]);var es=ts,ss=s(2254),is={components:{ProductCarousel:es,SwiperSlider:ss.Z},computed:{...(0,U.rn)(W.Z,["isLoading","cartLoadingItem"]),...(0,U.rn)(z.Z,["product"])},data(){return{id:"",qty:1,message:"",disabled:!1,swiperOptions:{slidesPerView:1,pagination:{dynamicBullets:!0}}}},methods:{...(0,U.nv)(X.Z,["addCart"]),...(0,U.nv)(z.Z,["getProduct","scrollToTop"]),checkProduct(t){this.id!==t&&(this.getProduct(t),this.scrollToTop())},addQty(){this.message="",this.qty>=1&&this.qty<20?this.qty+=1:20===this.qty&&(this.message="最多數量限20")},subtractQty(){this.message="",this.qty>1&&this.qty<=20?this.qty-=1:1===this.qty&&(this.message="最少數量限1")}},created(){this.id=this.$route.params.productId,this.getProduct(this.id),this.scrollToTop()}};const ns=(0,Ge.Z)(is,[["render",Q]]);var rs=ns}}]);
//# sourceMappingURL=851.0307fc8d.js.map