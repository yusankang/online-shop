"use strict";(self["webpackChunkonline_shop"]=self["webpackChunkonline_shop"]||[]).push([[881],{6881:function(e,s,a){a.r(s),a.d(s,{default:function(){return b}});var n=a(6252),l=a(3577);const o={style:{"background-color":"rgba(42, 62, 51, 0.8)","min-height":"100vh"}},i={class:"col-md-6"},t=(0,n._)("h1",{class:"h3 mb-3 text-white"},"管理員請先登入",-1),r={class:"mb-2"},d=(0,n._)("label",{for:"inputEmail",class:"sr-only w-100 text-white"},"Email address",-1),c={class:"mb-2"},u=(0,n._)("label",{for:"inputPassword",class:"sr-only w-100 text-white"},"登入密碼",-1),m={key:0,class:"text-warning"},p=(0,n._)("div",{class:"text-end mt-4"},[(0,n._)("button",{class:"btn btn-warning px-4"},"登入")],-1);function h(e,s,a,h,g,w){const v=(0,n.up)("LoadingOverlay"),b=(0,n.up)("Field"),f=(0,n.up)("ErrorMessage"),_=(0,n.up)("Form");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(v,{active:g.isLoading},null,8,["active"]),(0,n._)("div",o,[(0,n.Wm)(_,{class:"row justify-content-center pt-5 m-0",onSubmit:s[2]||(s[2]=e=>w.signIn(g.user))},{default:(0,n.w5)((({errors:e})=>[(0,n._)("div",i,[t,(0,n._)("div",r,[d,(0,n.Wm)(b,{type:"email",id:"email",class:(0,l.C_)(["form-control",{"is-invalid":e["email"]}]),placeholder:"Email address",name:"email",rules:"email|required",modelValue:g.user.username,"onUpdate:modelValue":s[0]||(s[0]=e=>g.user.username=e),onFocus:w.clearMessage},null,8,["class","modelValue","onFocus"]),(0,n.Wm)(f,{name:"email",class:"invalid-feedback"})]),(0,n._)("div",c,[u,(0,n.Wm)(b,{type:"password",id:"password",class:(0,l.C_)(["form-control",{"is-invalid":e["密碼"]}]),placeholder:"Password",name:"密碼",rules:"required",modelValue:g.user.password,"onUpdate:modelValue":s[1]||(s[1]=e=>g.user.password=e),onFocus:w.clearMessage},null,8,["class","modelValue","onFocus"]),(0,n.Wm)(f,{name:"密碼",class:"invalid-feedback"})]),g.message?((0,n.wg)(),(0,n.iD)("div",m,(0,l.zw)(g.message),1)):(0,n.kq)("",!0),p])])),_:1})])],64)}a(7658);var g={data(){return{isLoading:!1,message:"",user:{username:"",password:""}}},methods:{signIn(e){const s="https://vue3-course-api.hexschool.io/admin/signin";this.isLoading=!0,this.$http.post(s,e).then((e=>{const{message:s}=e.data;if(this.isLoading=!1,e.data.success){const{token:s,expired:a}=e.data;document.cookie=`hexToken=${s}; expires=${new Date(a)}`,this.$router.push("/dashboard/products")}else e.data.success||(this.message=s)}))},clearMessage(){this.message=""}}},w=a(3744);const v=(0,w.Z)(g,[["render",h]]);var b=v}}]);
//# sourceMappingURL=881.fdfd2f1a.js.map