{"version":3,"file":"js/661.a7cb7cf2.js","mappings":"mMAEOA,MAAA,mE,GAEIC,MAAM,Y,GACTC,EAAAA,EAAAA,GAA2C,MAAvCD,MAAM,sBAAqB,WAAO,G,GACjCA,MAAM,Q,GACTC,EAAAA,EAAAA,GAA8E,SAAvEC,IAAI,aAAaF,MAAM,4BAA2B,iBAAa,G,GAcnEA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAwE,SAAjEC,IAAI,gBAAgBF,MAAM,4BAA2B,QAAI,G,SAc9CA,MAAM,gB,GAG1BC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,iBAAe,EACxBC,EAAAA,EAAAA,GAAgD,UAAxCD,MAAM,wBAAuB,QAAE,G,mKAvC/CG,EAAAA,EAAAA,IAAsCC,EAAA,CAArBC,OAAQC,EAAAC,WAAS,oBAClCN,EAAAA,EAAAA,GA0CM,MA1CNO,EA0CM,EAzCJL,EAAAA,EAAAA,IAwCOM,EAAA,CAxCDT,MAAM,sCAA2DU,SAAMC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,OAAOR,EAAAS,Q,mBACpF,EAD0DC,YAAM,EAChEf,EAAAA,EAAAA,GAsCM,MAtCNgB,EAsCM,CArCJC,GACAjB,EAAAA,EAAAA,GAcM,MAdNkB,EAcM,CAbJC,GACAjB,EAAAA,EAAAA,IAUEkB,EAAA,CATAC,KAAK,QACLC,GAAG,QACHvB,OAAKwB,EAAAA,EAAAA,IAAA,CAAC,eAAc,cAGIR,EAAO,YAF/BS,YAAY,gBACZC,KAAK,QAELC,MAAM,iB,WACGrB,EAAAS,KAAKa,S,qCAALtB,EAAAS,KAAKa,SAAQhB,GACrBiB,QAAOhB,EAAAiB,c,0CAEV3B,EAAAA,EAAAA,IAAsD4B,EAAA,CAAxCL,KAAK,QAAQ1B,MAAM,wBAEnCC,EAAAA,EAAAA,GAcM,MAdN+B,EAcM,CAbJC,GACA9B,EAAAA,EAAAA,IAUEkB,EAAA,CATAC,KAAK,WACLC,GAAG,WACHvB,OAAKwB,EAAAA,EAAAA,IAAA,CAAC,eAAc,cAIIR,EAAO,SAH/BS,YAAY,WACZC,KAAK,KACLC,MAAM,W,WAEGrB,EAAAS,KAAKmB,S,qCAAL5B,EAAAS,KAAKmB,SAAQtB,GACrBiB,QAAOhB,EAAAiB,c,0CAEV3B,EAAAA,EAAAA,IAAmD4B,EAAA,CAArCL,KAAK,KAAK1B,MAAM,uBAErBM,EAAA6B,UAAO,WAAlBC,EAAAA,EAAAA,IAEM,MAFNC,GAEMC,EAAAA,EAAAA,IADDhC,EAAA6B,SAAO,oBAEZI,O,yBASR,GACEC,OACE,MAAO,CACLjC,WAAW,EACX4B,QAAS,GACTpB,KAAM,CACJa,SAAU,GACVM,SAAU,IAGhB,EACAO,QAAS,CACP3B,OAAOC,GACL,MAAM2B,EAAO,oDACbC,KAAKpC,WAAY,EACjBoC,KAAKC,MAAMC,KAAKH,EAAK3B,GAAM+B,MAAMC,IAC/B,MAAM,QAAEZ,GAAYY,EAASP,KAE7B,GADAG,KAAKpC,WAAY,EACbwC,EAASP,KAAKQ,QAAS,CACzB,MAAM,MAAEC,EAAK,QAAEC,GAAYH,EAASP,KACpCW,SAASC,OAAU,YAAWH,cAAkB,IAAII,KAAKH,KACzDP,KAAKW,QAAQC,KAAK,sBACpB,MAAYR,EAASP,KAAKQ,UACxBL,KAAKR,QAAUA,EACjB,GAEJ,EACAL,eACEa,KAAKR,QAAU,EACjB,I,UCxEJ,MAAMqB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://online-shop/./src/views/admin-views/LogIn.vue","webpack://online-shop/./src/views/admin-views/LogIn.vue?b950"],"sourcesContent":["<template>\n  <LoadingOverlay :active=\"isLoading\" />\n  <div style=\"background-color: rgba(42, 62, 51, 0.8); min-height: 100vh\">\n    <Form class=\"row justify-content-center pt-5 m-0\" v-slot=\"{ errors }\" @submit=\"signIn(user)\">\n      <div class=\"col-md-6\">\n        <h1 class=\"h3 mb-3 text-white\">管理員請先登入</h1>\n        <div class=\"mb-2\">\n          <label for=\"inputEmail\" class=\"sr-only w-100 text-white\">Email address</label>\n          <Field\n            type=\"email\"\n            id=\"email\"\n            class=\"form-control\"\n            placeholder=\"Email address\"\n            name=\"email\"\n            :class=\"{ 'is-invalid': errors['email'] }\"\n            rules=\"email|required\"\n            v-model=\"user.username\"\n            @focus=\"clearMessage\"\n          />\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\" />\n        </div>\n        <div class=\"mb-2\">\n          <label for=\"inputPassword\" class=\"sr-only w-100 text-white\">登入密碼</label>\n          <Field\n            type=\"password\"\n            id=\"password\"\n            class=\"form-control\"\n            placeholder=\"Password\"\n            name=\"密碼\"\n            rules=\"required\"\n            :class=\"{ 'is-invalid': errors['密碼'] }\"\n            v-model=\"user.password\"\n            @focus=\"clearMessage\"\n          />\n          <ErrorMessage name=\"密碼\" class=\"invalid-feedback\" />\n        </div>\n        <div v-if=\"message\" class=\"text-warning\">\n          {{ message }}\n        </div>\n        <div class=\"text-end mt-4\">\n          <button class=\"btn btn-warning px-4\">登入</button>\n        </div>\n      </div>\n    </Form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      message: '',\n      user: {\n        username: '',\n        password: '',\n      },\n    };\n  },\n  methods: {\n    signIn(user) {\n      const api = `${process.env.VUE_APP_API}admin/signin`;\n      this.isLoading = true;\n      this.$http.post(api, user).then((response) => {\n        const { message } = response.data;\n        this.isLoading = false;\n        if (response.data.success) {\n          const { token, expired } = response.data;\n          document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;\n          this.$router.push('/dashboard/products');\n        } else if (!response.data.success) {\n          this.message = message;\n        }\n      });\n    },\n    clearMessage() {\n      this.message = '';\n    },\n  },\n};\n</script>\n","import { render } from \"./LogIn.vue?vue&type=template&id=3884e668\"\nimport script from \"./LogIn.vue?vue&type=script&lang=js\"\nexport * from \"./LogIn.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/san/Documents/Hex School/4. Vue/Final_Project/online-shop/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","class","_createElementVNode","for","_createVNode","_component_LoadingOverlay","active","$data","isLoading","_hoisted_1","_component_Form","onSubmit","_cache","$event","$options","signIn","user","errors","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_component_Field","type","id","_normalizeClass","placeholder","name","rules","username","onFocus","clearMessage","_component_ErrorMessage","_hoisted_6","_hoisted_7","password","message","_createElementBlock","_hoisted_8","_toDisplayString","_hoisted_9","data","methods","api","this","$http","post","then","response","success","token","expired","document","cookie","Date","$router","push","__exports__","render"],"sourceRoot":""}